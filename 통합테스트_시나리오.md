# 통합테스트 시나리오

**문서 버전:** 2.0
**작성일:** 2026-01-20
**재검토일:** 2026-01-20
**프로젝트:** 아주약품 제안제도 시스템

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|-----------|
| 1.0 | 2026-01-14 | 최초 작성 |
| 2.0 | 2026-01-20 | 점수 체계 및 등급 기준표 실제 코드와 일치하도록 수정, 유형효과 점수 기준표 업데이트 |

---

## 1. 필요 인원 구성

| 역할 | 인원수 | 담당자 조건 | 주요 테스트 영역 |
|------|--------|------------|------------------|
| **일반 사용자** | 2명 | 일반 직원 | 제안서 작성, 조회, 수정요청 응답 |
| **1차 평가자 (소위원회)** | 1명 | `firstReviewer` 권한 | 1차 평가, 수정요청/반려 |
| **2차 평가자 (제안위원회)** | 1명 | `secondReviewer` 권한 | 2차 평가 |
| **유형효과 검증 담당자** | 1명 | `effectVerifier` 권한 | 금액 검증, AI 분석 활용 |
| **시스템 관리자** | 1명 | `admin` 권한 | 조직도 관리, 권한 설정, 통계 확인 |
| **총계** | **6명** | | |

> **참고:** 1명이 여러 권한을 가질 수 있으므로, 최소 **4명**으로도 테스트 가능
> - 일반 사용자 2명
> - 평가자 1명 (1차+2차 권한 동시 보유)
> - 관리자 1명 (admin + effectVerifier 권한 동시 보유)

---

## 2. 테스트 계정 목록

| 역할 | 사번 예시 | 초기 비밀번호 | 권한 |
|------|----------|-------------|------|
| 일반 사용자 A | A230001 | ajupharm | `user` |
| 일반 사용자 B | A230002 | ajupharm | `user` |
| 1차 평가자 | A200001 | ajupharm | `user`, `firstReviewer` |
| 2차 평가자 | A190001 | ajupharm | `user`, `secondReviewer` |
| 유형효과 검증 | A180001 | ajupharm | `user`, `effectVerifier` |
| 관리자 | A197003 | ajupharm | `admin` |

---

## 3. 사전 준비 체크리스트

| 항목 | 확인 |
|------|------|
| 조직도 Excel 업로드 완료 | ☐ |
| 테스트 계정 6개 생성 확인 | ☐ |
| 각 계정별 권한 설정 완료 | ☐ |
| 카테고리 등록 완료 | ☐ |
| 평가 기준 점수 설정 (60점) 확인 | ☐ |
| Netlify 배포 완료 | ☐ |

---

## 4. 점수 체계 (2026-01-20 기준)

### 4.1 평가자 평가 점수 (leader.html 기준)

| 항목 | 최소 | 최대 | 설명 |
|------|------|------|------|
| 노력도 | 0점 | 15점 | 투입된 노력 시간 |
| 창의성 | 0점 | 15점 | 아이디어의 독창성 |
| 품질효과 | 0점 | 10점 | 품질 개선, 불량 예방 |
| 안전효과 | 0점 | 10점 | 안전 환경 개선, 사고 예방 |

**무형효과 계산:** 품질과 안전 중 **더 높은 점수**만 적용 (OR 조건)

**평가자 점수 최대:** 15 + 15 + 10 = **40점**

### 4.2 유형효과 점수 기준표 (calculateTangibleEffectScore 기준)

| 검증 금액 (원/년) | 점수 |
|------------------|------|
| 5,000만원 이상 | 60점 |
| 4,000~5,000만원 | 50점 |
| 3,000~4,000만원 | 45점 |
| 2,000~3,000만원 | 40점 |
| 1,000~2,000만원 | 35점 |
| 500~1,000만원 | 30점 |
| 100~500만원 | 25점 |
| 50~100만원 | 20점 |
| 50만원 이하 | 15점 |

**총점 최대:** 40점(평가) + 60점(유형효과) = **100점**

---

## 5. 등급 및 보상금 기준표 (실제 코드 기준)

| 등급 | 종합점수 | 보상금 |
|------|----------|--------|
| 특급 | 91~100점 | 100만원 |
| 1급 | 81~90점 | 80만원 |
| 2급 | 71~80점 | 60만원 |
| 3급 | 61~70점 | 40만원 |
| 4급 | 56~60점 | 30만원 |
| 5급 | 51~55점 | 20만원 |
| 6급 | 45~50점 | 10만원 |
| 7급 | 41~44점 | 7만원 |
| 8급 | 31~40점 | 5만원 |
| 9급 | 21~30점 | 3만원 |
| 10급 | 0~20점 | 2만원 |

---

## 6. 테스트 시나리오

---

### 시나리오 1: 무형효과 제안 - 1차 평가 종료 (60점 이하)

**목적:** 점수가 낮아 1차 평가에서 종료되는 케이스 검증

#### 테스트 흐름

```
[일반 사용자] → [1차 평가자] → [종료]
```

#### 단계별 체크리스트

| 단계 | 담당자 | 수행 작업 | 확인 사항 | 통과 |
|------|--------|----------|----------|------|
| 1 | 일반 사용자 A | 로그인 (초기 비밀번호) | 비밀번호 변경 모달 표시 | ☐ |
| 2 | 일반 사용자 A | 비밀번호 변경 | 변경 후 dashboard.html 이동 | ☐ |
| 3 | 일반 사용자 A | 제안서 작성 (무형효과) | - 유형효과 "아니오" 선택<br>- 무형효과(품질/안전) 점수 선택<br>- 자체평가 입력 | ☐ |
| 4 | 일반 사용자 A | 제안서 제출 | - 제안번호 자동 생성<br>- 상태: `pending`<br>- 알림 발송 확인 | ☐ |
| 5 | 1차 평가자 | leader.html 접속 | 결재 대기 목록에 제안서 표시 | ☐ |
| 6 | 1차 평가자 | 평가 수행 | - 노력도: 5점<br>- 창의성: 5점<br>- 품질/안전: 5점<br>- **총점: 15점** | ☐ |
| 7 | 1차 평가자 | 승인 처리 | - 상태: `approved`<br>- 2차 평가 없이 종료<br>- 제안자에게 알림 | ☐ |
| 8 | 일반 사용자 A | 결과 확인 | - 알림 수신<br>- 제안서 상태 "승인" 표시<br>- 최종 등급 확인 | ☐ |

#### 예상 결과
- 총점이 60점 이하이므로 1차 평가에서 최종 확정
- 등급: 10급 (15점 기준)

#### 테스트 결과

| 항목 | 내용 |
|------|------|
| 테스트 일시 | |
| 테스터 | |
| 결과 | ☐ 통과 / ☐ 실패 |
| 비고 | |

---

### 시나리오 2: 무형효과 제안 - 2차 평가 진행 (60점 초과)

**목적:** 고득점 무형효과 제안의 전체 평가 프로세스 검증

#### 테스트 흐름

```
[일반 사용자] → [1차 평가자] → [2차 평가자] → [최종 확정]
```

#### 단계별 체크리스트

| 단계 | 담당자 | 수행 작업 | 확인 사항 | 통과 |
|------|--------|----------|----------|------|
| 1 | 일반 사용자 B | 로그인 | dashboard.html 이동 | ☐ |
| 2 | 일반 사용자 B | 제안서 작성 (무형효과) | - 높은 자체평가 점수 입력<br>- 품질/안전 효과 최고점 선택 | ☐ |
| 3 | 일반 사용자 B | 제안서 제출 | 상태: `pending` | ☐ |
| 4 | 1차 평가자 | leader.html 접속 | 결재 대기 목록에 표시 | ☐ |
| 5 | 1차 평가자 | 평가 수행 | - 노력도: 15점<br>- 창의성: 15점<br>- 품질/안전: 10점<br>- **총점: 40점** (유형효과 없음) | ☐ |
| 6 | 1차 평가자 | 승인 처리 | - **60점 이하이지만 무형효과만**<br>- 상태 변경 확인 | ☐ |
| 7 | 2차 평가자 | leader.html 접속 | 2차 평가 대기 목록 표시 | ☐ |
| 8 | 2차 평가자 | 평가 수행 | - 노력도: 15점<br>- 창의성: 15점<br>- 품질/안전: 10점 | ☐ |
| 9 | 2차 평가자 | 최종 승인 | - 상태: `approved`<br>- 최종 등급 계산 | ☐ |
| 10 | 일반 사용자 B | 결과 확인 | - 최종 점수 및 등급 표시<br>- 평가 이력 확인 가능 | ☐ |

#### 예상 결과
- 1차 + 2차 평가 완료 후 최종 확정
- 등급: 8급 (31~40점 기준)

> **참고:** 무형효과만 있는 경우 최대 40점이므로 60점 초과가 불가능합니다.
> 60점 초과 조건은 유형효과가 있는 제안서에 적용됩니다.

#### 테스트 결과

| 항목 | 내용 |
|------|------|
| 테스트 일시 | |
| 테스터 | |
| 결과 | ☐ 통과 / ☐ 실패 |
| 비고 | |

---

### 시나리오 3: 유형효과 제안 - 검증 후 승인

**목적:** 금액 절감 효과가 있는 제안의 유형효과 검증 프로세스 검증

#### 테스트 흐름

```
[일반 사용자] → [유형효과 검증] → [1차 평가자] → [2차 평가자] → [최종 확정]
```

#### 단계별 체크리스트

| 단계 | 담당자 | 수행 작업 | 확인 사항 | 통과 |
|------|--------|----------|----------|------|
| 1 | 일반 사용자 A | 제안서 작성 | - 유형효과 "예" 선택<br>- 예상 절감 금액 입력 (예: 15,000,000원/년)<br>- 절감 근거 작성 | ☐ |
| 2 | 일반 사용자 A | 제안서 제출 | - 상태: `verifying`<br>- 유형효과 검증 담당자에게 알림 | ☐ |
| 3 | 검증 담당자 | verifier.html 접속 | 검증 대기 목록에 표시 | ☐ |
| 4 | 검증 담당자 | 제안서 상세 확인 | - 예상 절감 금액 확인<br>- 절감 근거 검토 | ☐ |
| 5 | 검증 담당자 | AI 분석 요청 | - "검증 기준 제시" 버튼 클릭<br>- OpenAI 분석 결과 확인 | ☐ |
| 6 | 검증 담당자 | 검증 완료 | - 확정 금액 입력 (예: 12,000,000원)<br>- 검증 의견 작성<br>- "검증 완료" 처리 | ☐ |
| 7 | 시스템 | 자동 처리 | - 상태: `verified` → `pending`<br>- 유형효과 점수 자동 계산: **35점** (1,000~2,000만원)<br>- 1차 평가자에게 알림 | ☐ |
| 8 | 1차 평가자 | leader.html 접속 | - 결재 대기 목록 표시<br>- 검증된 유형효과 정보 표시 | ☐ |
| 9 | 1차 평가자 | 평가 수행 | - 유형효과 점수 확인<br>- 노력도/창의성/품질/안전 평가<br>- 예: 15+15+10+35=**75점** | ☐ |
| 10 | 1차 평가자 | 승인 | 60점 초과 시 2차로 이관 | ☐ |
| 11 | 2차 평가자 | 최종 평가 및 승인 | 최종 확정 | ☐ |
| 12 | 일반 사용자 A | 결과 확인 | - 유형효과 점수 반영 확인<br>- 검증 금액 표시 | ☐ |

#### 예상 결과
- 유형효과 점수 35점 (12,000,000원 기준)
- 최종 등급: 2급 (71~80점 범위)

#### 테스트 결과

| 항목 | 내용 |
|------|------|
| 테스트 일시 | |
| 테스터 | |
| 결과 | ☐ 통과 / ☐ 실패 |
| 비고 | |

---

### 시나리오 4: 수정 요청 및 재제출

**목적:** 수정 요청 → 수정 → 재제출 흐름 검증

#### 테스트 흐름

```
[일반 사용자] → [1차 평가자: 수정요청] → [일반 사용자: 수정] → [1차 평가자: 승인]
```

#### 단계별 체크리스트

| 단계 | 담당자 | 수행 작업 | 확인 사항 | 통과 |
|------|--------|----------|----------|------|
| 1 | 일반 사용자 B | 제안서 작성 | 내용이 불충분한 제안 작성 | ☐ |
| 2 | 일반 사용자 B | 제안서 제출 | 상태: `pending` | ☐ |
| 3 | 1차 평가자 | leader.html 접속 | 결재 대기 목록에 표시 | ☐ |
| 4 | 1차 평가자 | 제안서 검토 | 개선 필요 사항 파악 | ☐ |
| 5 | 1차 평가자 | 수정 요청 | - "수정 요청" 버튼 클릭<br>- 수정 사유 입력<br>- 상태: `revision_requested` | ☐ |
| 6 | 일반 사용자 B | 알림 확인 | - 수정 요청 알림 수신<br>- 수정 사유 확인 | ☐ |
| 7 | 일반 사용자 B | dashboard.html 접속 | - 수정 요청된 제안서 표시<br>- 수정 사유 확인 가능 | ☐ |
| 8 | 일반 사용자 B | 제안서 수정 | - 기존 내용 보완<br>- 개선 내용 추가 | ☐ |
| 9 | 일반 사용자 B | 재제출 | - 상태: `pending`<br>- 1차 평가자에게 알림 | ☐ |
| 10 | 1차 평가자 | 재검토 | 수정 내용 반영 확인 | ☐ |
| 11 | 1차 평가자 | 승인 처리 | 정상 평가 프로세스 진행 | ☐ |
| 12 | 일반 사용자 B | 결과 확인 | - 승인 알림 수신<br>- 최종 등급 확인 | ☐ |

#### 예상 결과
- 수정 이력이 제안서에 기록됨
- 수정 후 정상적인 평가 프로세스 진행

#### 테스트 결과

| 항목 | 내용 |
|------|------|
| 테스트 일시 | |
| 테스터 | |
| 결과 | ☐ 통과 / ☐ 실패 |
| 비고 | |

---

## 7. 추가 검증 항목

### 7.1 관리자 기능 테스트

| 항목 | 확인 사항 | 통과 |
|------|----------|------|
| 조직도 업로드 | Excel 파일 업로드 및 직원 목록 반영 | ☐ |
| 사용자 권한 관리 | 권한 추가/제거 후 즉시 반영 | ☐ |
| 결재 라인 설정 | 부서별 결재 라인 추가/수정/삭제 | ☐ |
| 공지사항 관리 | 공지 등록/수정/삭제 | ☐ |
| 통계 확인 | 부서별/월별/카테고리별 통계 표시 | ☐ |
| 비밀번호 초기화 | 사용자 비밀번호 초기화 기능 | ☐ |

### 7.2 알림 기능 테스트

| 상황 | 수신자 | 알림 내용 | 통과 |
|------|--------|----------|------|
| 제안서 제출 | 1차 평가자 | 새 제안서 접수 알림 | ☐ |
| 유형효과 제안 제출 | 검증 담당자 | 검증 요청 알림 | ☐ |
| 검증 완료 | 1차 평가자 | 평가 요청 알림 | ☐ |
| 1차 승인 (60점 초과) | 2차 평가자 | 2차 평가 요청 알림 | ☐ |
| 수정 요청 | 제안자 | 수정 요청 알림 | ☐ |
| 최종 승인 | 제안자 | 승인 완료 알림 | ☐ |
| 반려 | 제안자 | 반려 알림 | ☐ |

### 7.3 모바일 반응형 테스트

| 페이지 | 확인 사항 | 통과 |
|--------|----------|------|
| index.html | 로그인 폼 정상 표시 | ☐ |
| dashboard.html | 제안서 작성 폼 스크롤 정상 | ☐ |
| leader.html | 평가 모달 정상 동작 | ☐ |
| verifier.html | 검증 폼 입력 정상 | ☐ |
| admin.html | 사이드바 햄버거 메뉴 동작 | ☐ |

---

## 8. 테스트 환경

| 항목 | 권장 사항 |
|------|----------|
| 브라우저 | Chrome 최신 버전 |
| 모바일 테스트 | 실제 기기 또는 개발자도구 반응형 모드 |
| 네트워크 | 안정적인 인터넷 연결 |
| 테스트 URL | https://[netlify-subdomain].netlify.app |

---

## 9. 이슈 보고 양식

발견된 이슈는 아래 양식으로 기록해 주세요.

```
### 이슈 제목
[간단한 이슈 설명]

### 시나리오
시나리오 번호:
단계 번호:

### 재현 방법
1.
2.
3.

### 예상 결과


### 실제 결과


### 스크린샷
[이미지 첨부]

### 환경
- 브라우저:
- 기기:
- 테스트 계정:
```

---

## 10. 최종 테스트 결과 요약

| 시나리오 | 결과 | 비고 |
|---------|------|------|
| 1. 무형효과 - 1차 종료 | ☐ 통과 / ☐ 실패 | |
| 2. 무형효과 - 2차 진행 | ☐ 통과 / ☐ 실패 | |
| 3. 유형효과 - 검증 후 승인 | ☐ 통과 / ☐ 실패 | |
| 4. 수정 요청 및 재제출 | ☐ 통과 / ☐ 실패 | |

**테스트 완료일:**
**테스트 담당자:**
**최종 승인:**

---

*이 문서는 아주약품 제안제도 시스템 통합테스트를 위해 작성되었습니다.*
*최종 재검토일: 2026-01-20*
