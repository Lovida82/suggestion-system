# -*- coding: utf-8 -*-
import sys
import io

# Windows ì½˜ì†” ì¸ì½”ë”© ë¬¸ì œ í•´ê²°
sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')

# ê¹¨ì§„ í•œê¸€ íŒ¨í„´ê³¼ ì˜¬ë°”ë¥¸ í•œê¸€ ë§¤í•‘
replacements = {
    # ìƒˆë¡œ ì¶”ê°€ëœ ë§¤í•‘ (ê¹¨ì§„ íŒ¨í„´)
    '?ï¿½ë²¤??ë¦¬ìŠ¤???ï¿½ë¡': 'ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡',
    '?ï¿½ï¿½ ìµœê·¼ ?ï¿½ì•ˆ í‰ê°€í•˜ê¸° ë²„íŠ¼ ?ï¿½ë²¤??ë¦¬ìŠ¤???ï¿½ë¡ ï¿½?..': 'ğŸ”¹ ìµœê·¼ ì œì•ˆ í‰ê°€í•˜ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ì¤‘..',
    '?ï¿½ï¿½ ìµœê·¼ ?ï¿½ì•ˆ ë²„íŠ¼ ?ï¿½ë¦­??': 'ğŸ”¹ ìµœê·¼ ì œì•ˆ ë²„íŠ¼ í´ë¦­ë¨',
    '??ìµœê·¼ ?ï¿½ì•ˆ ?ï¿½ë²¤??ë¦¬ìŠ¤???ï¿½ë¡ ?ï¿½ë£Œ': 'âœ… ìµœê·¼ ì œì•ˆ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ì™„ë£Œ',
    '?ï¿½ï¿½?ï¿½ï¿½?ï¿½ï¿½ ê²°ì¬ ?ï¿½ï¿½?ëª©ë¡ ë¡œë“œ ?ï¿½ì‘ ?ï¿½ï¿½?ï¿½ï¿½?ï¿½ï¿½': 'ğŸ”¹ğŸ”¹ğŸ”¹ ê²°ì¬ ëŒ€ê¸° ëª©ë¡ ë¡œë“œ ì‹œì‘ ğŸ”¹ğŸ”¹ğŸ”¹',
    'ê²°ì¬ ?ï¿½ï¿½?ëª©ë¡ ë¡œë“œ': 'ê²°ì¬ ëŒ€ê¸° ëª©ë¡ ë¡œë“œ',
    'ê²°ì¬ ?ï¿½ï¿½?ëª©ë¡': 'ê²°ì¬ ëŒ€ê¸° ëª©ë¡',
    '?ï¿½ï¿½ ê²°ì¬ ?ï¿½ï¿½?ì¿¼ë¦¬ ?ï¿½ë£Œ, ë¬¸ì„œ ??': 'âœ… ê²°ì¬ ëŒ€ê¸° ì¿¼ë¦¬ ì™„ë£Œ, ë¬¸ì„œ ìˆ˜:',
    '?ï¿½ë¼?ï¿½ì–¸?ï¿½ì—???ï¿½ë ¬': 'í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì •ë ¬',
    'ìµœì‹ ??': 'ìµœì‹ ìˆœ',
    '?ï¿½ë²¤??ë¦¬ìŠ¤???ï¿½ë¡ (?ï¿½ì „ ë¦¬ìŠ¤?ï¿½ëŠ” innerHTMLï¿½??ï¿½ï¿½? ?ï¿½ê±°??': 'ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ (ì´ì „ ë¦¬ìŠ¤ë„ˆëŠ” innerHTMLë¡œ ì œê±°ë¨)',
    '?ï¿½ï¿½ í‰ê°€í•˜ê¸° ë²„íŠ¼ ?ï¿½ë²¤??ë¦¬ìŠ¤???ï¿½ë¡ ï¿½?..': 'ğŸ”¹ í‰ê°€í•˜ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ì¤‘..',
    '?ï¿½ì¬ ?ï¿½ê°:': 'í˜„ì¬ ì‹œê°:',
    'DOM???ï¿½ë°?ï¿½íŠ¸???ï¿½ê°„??ì£¼ê¸° ?ï¿½í•´ setTimeout ?ï¿½ìš©': 'DOMì´ ì—…ë°ì´íŠ¸ë  ì‹œê°„ì„ ì£¼ê¸° ìœ„í•´ setTimeout ì‚¬ìš©',
    '??setTimeout ?ï¿½í–‰??(100ms ??': 'âœ… setTimeout ì‹¤í–‰ë¨ (100ms í›„)',
    'ë°œê²¬??ë²„íŠ¼:': 'ë°œê²¬ëœ ë²„íŠ¼:',
    '?ï¿½ì²´ DOM ??.review-btn:': 'ì „ì²´ DOMì˜ .review-btn:',
    'pendingList ?ï¿½ì†Œ ì¡´ì¬:': 'pendingList ìš”ì†Œ ì¡´ì¬:',
    '?ï¿½ï¸?ï¿½ï¸?ï¿½ï¸ ë²„íŠ¼??ì°¾ì„ ???ï¿½ìŠµ?ï¿½ë‹¤! ?ï¿½ï¸?ï¿½ï¸?ï¿½ï¸': 'âš ï¸âš ï¸âš ï¸ ë²„íŠ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤! âš ï¸âš ï¸âš ï¸',
    'pendingList innerHTML (ì²˜ìŒ 500??:': 'pendingList innerHTML (ì²˜ìŒ 500ì):',
    '??pendingList ?ï¿½ì†Œ ?ï¿½ì²´ê°€ ?ï¿½ìŠµ?ï¿½ë‹¤!': 'âŒ pendingList ìš”ì†Œ ìì²´ê°€ ì—†ìŠµë‹ˆë‹¤!',
    '??ë²„íŠ¼??ì°¾ì•˜?ï¿½ë‹ˆ?? ?ï¿½ë²¤??ë¦¬ìŠ¤???ï¿½ë¡ ?ï¿½ì‘...': 'âœ… ë²„íŠ¼ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤! ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ì‹œì‘...',
    '?ï¿½ë¦­ ?ï¿½ë“¤???ï¿½ì˜': 'í´ë¦­ í•¸ë“¤ëŸ¬ ì •ì˜',
    '### ?ï¿½ï¿½ ë²„íŠ¼ ?ï¿½ë¦­ ?ï¿½ë²¤??ë°œìƒ! ###': '### ğŸ”¹ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ! ###',
    '?ï¿½ë¦­???ï¿½ì•ˆ ID:': 'í´ë¦­ëœ ì œì•ˆ ID:',
    '?ï¿½ë¥˜': 'ì˜¤ë¥˜',
    '?ï¿½ì‹œ': 'í‘œì‹œ',
    '?ï¿½ì•ˆ': 'ì œì•ˆ',
    '?ï¿½ì‘': 'ì‹œì‘',
    '?ï¿½ë£Œ': 'ì™„ë£Œ',
    '?ï¿½ë¦­': 'í´ë¦­',
    '?ï¿½ï¿½?': 'ëŒ€ê¸°',
    '?ï¿½ìš©': 'ë‚´ìš©',
    '?ï¿½ì¸': 'í™•ì¸',
    '?ï¿½ì •': 'ìˆ˜ì •',
    '?ï¿½ì²­': 'ìš”ì²­',
    '?ï¿½ì œ': 'ì‚­ì œ',
    '?ï¿½ê°€': 'ì¶”ê°€',
    '?ï¿½ë³´': 'ì •ë³´',
    '?ï¿½íƒœ': 'ìƒíƒœ',
    '?ï¿½ì¶œ': 'ì œì¶œ',
    '?ï¿½ì„±': 'ì‘ì„±',
    '?ï¿½ê·¼': 'ì ‘ê·¼',
}

# íŒŒì¼ ì½ê¸°
print("leader.html íŒŒì¼ì„ ì½ëŠ” ì¤‘...")
try:
    with open('leader.html', 'r', encoding='utf-8', errors='replace') as f:
        content = f.read()
    print("íŒŒì¼ ì½ê¸° ì™„ë£Œ! íŒŒì¼ í¬ê¸°:", len(content), "ë¬¸ì")
except Exception as e:
    print("íŒŒì¼ ì½ê¸° ì˜¤ë¥˜:", str(e))
    exit(1)

# ì¹˜í™˜ ì‘ì—…
print("\nê¹¨ì§„ í•œê¸€ ì¹˜í™˜ ì¤‘...")
total_replacements = 0
for old, new in replacements.items():
    count = content.count(old)
    if count > 0:
        content = content.replace(old, new)
        total_replacements += count
        old_display = old[:20] + "..." if len(old) > 20 else old
        new_display = new[:20] + "..." if len(new) > 20 else new
        print(f"  ì¹˜í™˜: {count}ê°œ")

print(f"\nì´ {total_replacements}ê°œ ì¹˜í™˜ ì™„ë£Œ!")

# íŒŒì¼ ì“°ê¸°
print("\níŒŒì¼ ì €ì¥ ì¤‘...")
try:
    with open('leader.html', 'w', encoding='utf-8') as f:
        f.write(content)
    print("leader.html íŒŒì¼ì˜ ì¸ì½”ë”© ë³µì› ì™„ë£Œ!")
except Exception as e:
    print("íŒŒì¼ ì €ì¥ ì˜¤ë¥˜:", str(e))
    exit(1)
